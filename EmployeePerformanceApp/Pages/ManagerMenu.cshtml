@page
@model EmployeePerformanceApp.Pages.ManagerMenuModel
@{
    ViewData["Title"] = "Manager Menu Buttons";
}

<h1>@ViewData["Title"]</h1>

@if (Model.IsHR)
{
    <h2>
        HR Actions
    </h2>
    <form method="post">
        <button type="submit" asp-page-handler="GoToAccountChange" class="btn btn-primary"> <h2>Update Employee Information</h2></button>
    </form>
    <form method="post">
        <button type="submit" asp-page-handler="GoToCreateAccount" class="btn btn-primary"> <h2>Create new Employee</h2></button>
    </form>
}

<form method="post">
    <button type="submit" asp-page-handler="GoToPerformanceReview" class="btn btn-primary"> <h2>Add / Update Performance reviews</h2></button>
</form>



<h2>
    Quick Actions
</h2>

<form method="post">
    <button type="submit" asp-page-handler="GetTop5Employees" class="btn btn-primary">Get Top 5 Employees</button> 
</form>

<form method="post">
    <div class="form-group">
        <label for="MonthCutOff">Enter Month Cutoff:</label>
        <input type="number" id="MonthCutOff" name="MonthCutOff" class="form-control" asp-for="MonthCutOff" />
    </div>
    <button type="submit" asp-page-handler="GetEmployeesDueForReview" class="btn btn-primary">Get Employees Due for Review</button>
</form>


@if (!string.IsNullOrEmpty(Model.Message))
{
    <div class="alert alert-success">@Model.Message</div>
}

@if (Model.TopEmployees != null && Model.TopEmployees.Count > 0)
{
    <h2>Top 5 Employees</h2>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Employee ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Average Score</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var employee in Model.TopEmployees)
            {
                <tr>
                    <td>@employee.employee_id</td>
                    <td>@employee.first_name</td>
                    <td>@employee.last_name</td>
                    <td>@employee.average_score</td>
                </tr>
            }
        </tbody>
    </table>
}

@if (Model.EmployeesDueForReview != null && Model.EmployeesDueForReview.Count > 0)
{
    <h2>Employees Due for Review</h2>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Employee ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Position</th>
                <th>Hire Date</th>
                <th>Last Review Date</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var employee in Model.EmployeesDueForReview)
            {
                <tr>
                    <td>@employee.employee_id</td>
                    <td>@employee.first_name</td>
                    <td>@employee.last_name</td>
                    <td>@employee.position</td>
                    <td>@employee.hire_date.ToShortDateString()</td>
                    <td>@employee.last_review_date.ToShortDateString()</td>
                </tr>
            }
        </tbody>
    </table>
}